---
layout:     post
title:      "秋招八股"
subtitle:   "haha"
author:     "cozy"
tags:
    - 知乎

---

# java

## 异常体系



## 线程

1. java线程和内核线程的对应关系
2. 

## 栈

1. java线程栈跟内核栈的对应关系

## HashMap

1. ConcurrentHashMap是怎么保证并发安全的
2. ConcurrentHashMap扩容的同时插入数据会出现什么
3. 渐进式扩容是怎么做的

## gc

1. 有没有对线上问题做过gc调优
2. 怎么编写gc友好的代码

# JVM

## 垃圾回收

### GC Roots怎么选择？

### 常见的垃圾回收算法？

标记清除、标记整理、复制、分代回收

### CMS怎么解决标记清除的内存碎片问题？

### G1垃圾回收过程介绍一下？

### G1怎么判断哪个region是最有价值的region？

### Mixed GC是什么？

1. jvm有哪些常见参数

# 计网

## TCP

1. tcp连接中客户端出现大量time_wait会导致什么问题？如何解决

	### 如何应对syn flood攻击？

1. 启用SYN Cookie
2. 调整SYN队列参数
3. iptables/nftables 限速
4. 部署 SYN Proxy，防火墙/设备先代替服务器与客户端完成 三次握手，只有握手成功才将真正的连接转发给后端

## 网卡

1. 网卡收发包的原理

# docker

1.  docker的网络模型是怎么样
2. docker里面分配的虚拟网卡是怎么收发包的

# 操作系统

## 磁盘

1. 用户程序读取磁盘数据的过程操作系统做了什么
2. 磁盘IO的时间量级是多少，比如机械硬盘

## 进程

### 进程间通信最高效的方式是什么？



# Mysql

## 引擎

### InnoDB 和 MyISAM 的区别？

1. InnoDB支持事务

2. InnoDB默认采用行级锁，MyISAM只支持**表级锁**。

3. InnoDB支持外键

4. InnoDB拥有**崩溃后安全恢复**的能力。它使用 **Write-Ahead Logging (WAL)** 机制，所有修改在写入磁盘上的数据文件之前，会先写入重做日志（redo log）。

### InnoDB的ACID怎么实现的？



1. mysql执行一条update语句，全流程是怎么样的，假设存储引擎是innodb。

2. 加一个联合索引后，在存储引擎内存储结构是怎么样的。就假如说加了（a,b）联合索引。
3. 假如说mysql宕机了，redolog写入成功了，binlog还没写进去。mysql重启后会怎样。

# Redis

1. redis String底层结构，为啥要这么设计
2. redis expire的工作原理
3. Redis扩容后数据迁移怎么做。扩容后hash变化是怎样的。

### redis怎么识别一个key它是一个大key?

1. --bigkeys：不会返回所有大 Key，只是每种类型中“目前发现最大的”。
2. 使用 SCAN+ DEBUG OBJECT/ MEMORY USAGE
   1. 使用 `SCAN`命令遍历所有 key（避免阻塞）。
   2. 对每个 key，使用 `MEMORY USAGE key`获取其占用的内存字节数。

### Redis支持事务吗？

# Go

1. go语言垃圾回收机制，写屏障是为了解决什么问题的。

# 设计模式

## 策略模式



# 场景

## 1. 数据库分表可能会带来哪些问题？

- **跨分片查询（Join）**：原本简单的多表关联查询（如 `User`表 `JOIN``Order`表）会变得极其困难。如果关联键不是分片键，数据可能分布在不同的分片甚至不同的物理节点上，需要进行多次查询并在应用层做合并，性能极差。
- **跨分片排序/分组/聚合**：`ORDER BY ... LIMIT`, `GROUP BY`, `SUM(), COUNT()`等操作同样困难。要获取全局的 Top N 或统计总数，需要在每个分片上执行子查询，然后在应用层汇总排序，非常复杂且性能低下。
- **分页查询**：获取第 100 页的数据（如 `LIMIT 9900, 100`）需要到每个分片上都取 10000 条数据，然后在应用层合并排序后再取最终100条，效率极低。

- **全局唯一主键**：在单库中，使用数据库自增 ID (`AUTO_INCREMENT`) 非常简单。但在分片环境中，如果继续使用，会导致不同分片产生相同的 ID，造成冲突。
- **数据倾斜**：如果分片键设计不当或数据本身分布不均，可能导致大部分数据集中在一个或少数几个分片上，形成**热点分片**。这会使集群负载不均衡，失去了水平扩展的意义。

# Ai

提示词工程、检索增强、微调（Fine-tuning）、 langchain 框架、MCP 协议、workflow、Agent/Multi-Agent构建等；

# 项目

## IM

### 如何防止消息重复？

客户端发送消息时带上自己的cid,服务端存储目前会话的max_cid,如果服务端接收到的消息不是max_cid + 1，丢弃；如果小于max_cid，回补ack。

### 用户网络网络频繁切换导致服务端状态信息不断回收重建怎么办？

设置断开重连时间，如3分钟，没超过3分钟则保留用户的状态信息，仅需要断开socket连接即可

# 算法

1. 滑动窗口最大值
